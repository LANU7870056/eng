<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å–®å­—è¤‡ç¿’éŠæˆ²</title>

<script>
  // è‹±æ¼¢è©åº«
  const wordPairs = [
{ en: "common", zh: "å¸¸è¦‹çš„"},
{ en: "philosophies", zh: "å“²å­¸"},
{ en: "typically", zh: "é€šå¸¸"},
{ en: "discussion", zh: "è¨è«–"},
{ en: "apportioning", zh: "åˆ†é…"},
{ en: "benefit", zh: "ç›Šè™•"},
{ en: "received", zh: "å·²æ”¶åˆ°"},
{ en: "numbering", zh: "ç·¨è™Ÿ"},
{ en: "thousand", zh: "åƒ"},
{ en: "million", zh: "ç™¾è¬"},
{ en: "billion", zh: "åå„„"},
{ en: "advised", zh: "å»ºè­°"},
{ en: "semester", zh: "å­¸æœŸ"},
{ en: "branch", zh: "åˆ†æ”¯"},
{ en: "circulation", zh: "å¾ªç’°"},
{ en: "overflow", zh: "æº¢å‡º"},
{ en: "waste", zh: "æµªè²»"},
{ en: "against", zh: "åå°"},
{ en: "attack", zh: "æ”»æ“Š"},
{ en: "invading", zh: "å…¥ä¾µ"},
{ en: "pathogens", zh: "ç—…åŸé«”"},
{ en: "fungi", zh: "çœŸèŒ"},
{ en: "bacteria", zh: "ç´°èŒ"},
{ en: "accept", zh: "æ¥å—"},
{ en: "defend", zh: "ä¿è¡›"},
{ en: "quit", zh: "è¾­è·ã€é›¢é–‹"},
{ en: "feedback", zh: "å›é¥‹"},
{ en: "important", zh: "é‡è¦çš„"},
{ en: "technique", zh: "ç§‘æŠ€"},
{ en: "electronic", zh: "é›»å­çš„"},
{ en: "industrial", zh: "å·¥æ¥­çš„"},
{ en: "technical", zh: "æŠ€è¡“çš„"},
{ en: "traditional", zh: "å‚³çµ±çš„"},
{ en: "annual", zh: "å¹´åº¦çš„"},
{ en: "festival", zh: "ç¯€æ…¶"},
{ en: "celebrating", zh: "æ…¶ç¥"},
{ en: "writings", zh: "è‘—ä½œ"},
{ en: "fireflies", zh: "è¢ç«èŸ²"},
{ en: "attract", zh: "å¸å¼•"},
{ en: "mate", zh: "é…å¶"},
{ en: "males", zh: "ç”·æ€§"},
{ en: "females", zh: "å¥³æ€§"},
{ en: "signals", zh: "è¨Šè™Ÿ"},
{ en: "communicating", zh: "æºé€š"},
{ en: "blow", zh: "å¹"},
{ en: "darken", zh: "è®Šæš—"},
{ en: "fasten", zh: "ç¹«ç·Š"},
{ en: "glow", zh: "ç™¼å…‰"},
{ en: "concept", zh: "æ¦‚å¿µ"},
{ en: "complex", zh: "è¤‡é›œçš„"},
{ en: "shaped", zh: "å½¢ç‹€"},
{ en: "individual", zh: "å€‹äºº"},
{ en: "characteristics", zh: "ç‰¹å¾µ"},
{ en: "dynamics", zh: "å‹•åŠ›å­¸"},
{ en: "historical", zh: "æ­·å²"},
{ en: "political", zh: "æ”¿æ²»çš„"},
{ en: "contexts", zh: "æƒ…å¢ƒ"},
{ en: "ascendant", zh: "ç¥–å…ˆ"},
{ en: "identity", zh: "èº«åˆ†"},
{ en: "opposition", zh: "åå°"},
{ en: "compilation", zh: "å½™ç·¨"},
{ en: "analyzes", zh: "åˆ†æ"},
{ en: "results", zh: "çµæœ"},
{ en: "research", zh: "ç ”ç©¶"},
{ en: "belief", zh: "ä¿¡å¿µ"},
{ en: "understanding", zh: "èªè­˜ã€ç†è§£åŠ›"},
{ en: "website", zh: "ç¶²ç«™"},
{ en: "advice", zh: "å»ºè­°"},
{ en: "attorney", zh: "å¾‹å¸«"},
{ en: "different", zh: "ä¸åŒçš„"},
{ en: "advices", zh: "å»ºè­°"},
{ en: "great", zh: "å‰å¤§çš„"},
{ en: "toward", zh: "æœå‘"},
{ en: "inventions", zh: "ç™¼æ˜"},
{ en: "television", zh: "é›»è¦–"},
{ en: "animal", zh: "å‹•ç‰©"},
{ en: "mankind", zh: "äººé¡"},
{ en: "organelle", zh: "ç´°èƒå™¨"},
{ en: "vegetable", zh: "è”¬èœ"},
{ en: "government", zh: "æ”¿åºœ"},
{ en: "issues", zh: "ç™¼è¡Œ"},
{ en: "carefully", zh: "å°å¿ƒ"},
{ en: "danger", zh: "å±éšª"},
{ en: "voucher", zh: "ç¥¨åˆ¸"},
{ en: "vent", zh: "å‡ºå£ã€å‡ºè·¯"},
{ en: "opportunity", zh: "æ©Ÿæœƒ"},
{ en: "showcase", zh: "å±•ç¤º"},
{ en: "talents", zh: "äººæ‰"},
{ en: "competition", zh: "ç«¶è³½"},
{ en: "occupationa", zh: "è·æ¥­çš„"},
{ en: "probational", zh: "è¦‹ç¿’çš„"},
{ en: "unintentional", zh: "éæœ‰æ„çš„"},
{ en: "staff", zh: "è·å“¡"},
{ en: "referred", zh: "æåŠ"},
{ en: "cells", zh: "ç‰¢æˆ¿"},
{ en: "fields", zh: "å ´åŸŸ"},
{ en: "places", zh: "åœ°æ–¹"},
{ en: "vacancies", zh: "ç©ºç¼º"},
{ en: "confusions", zh: "å›°æƒ‘"},
{ en: "puzzles", zh: "è¬é¡Œ"},
{ en: "mid-sixteenth", zh: "åå…­ä¸–ç´€ä¸­æœŸ"},
{ en: "century", zh: "ä¸–ç´€"},
{ en: "served", zh: "æœå‹™"},
{ en: "conveying", zh: "è¼¸é€"},
{ en: "coal", zh: "ç…¤ç‚­"},
{ en: "iron", zh: "éµ"},
{ en: "mines", zh: "ç¤¦å±±"},
{ en: "low-lying", zh: "ä½çªª"},
{ en: "coastal", zh: "æµ·å²¸"},
{ en: "boats", zh: "èˆ¹éš»"},
{ en: "railroad", zh: "éµè·¯"},
{ en: "trolley", zh: "æ¨è»Š"},
{ en: "wooden cart", zh: "æœ¨è£½æ‰‹æ¨è»Š"},
{ en: "conduct", zh: "åŸ·è¡Œ"},
{ en: "shortest", zh: "æœ€çŸ­"},
{ en: "possible", zh: "å¯èƒ½çš„"},
{ en: "travelling", zh: "æ—…è¡Œ"},
{ en: "several", zh: "ä¸€äº›"},
{ en: "exactly", zh: "ç¢ºåˆ‡åœ°"},
{ en: "master", zh: "å¤§å¸«"},
{ en: "prescribe", zh: "è¦å®š"},
{ en: "headache", zh: "é ­ç—›"},
{ en: "sheets", zh: "åºŠå–®"},
{ en: "tablets", zh: "è—¥ç‰‡"},
{ en: "trophies", zh: "çç›ƒ"},
{ en: "aspect", zh: "æ–¹é¢"},
{ en: "modern", zh: "ç¾ä»£çš„"},
{ en: "presence", zh: "ç¾å ´ã€ç¾è±¡"},
{ en: "urban", zh: "åŸå¸‚çš„"},
{ en: "reported", zh: "å ±å‘Š"},
{ en: "international", zh: "åœ‹éš›çš„"},
{ en: "tolerate", zh: "å®¹å¿ã€å¯¬æ•"},
{ en: "unfortunate", zh: "ä¸å¹¸çš„"},
{ en: "unilluminate", zh: "é»¯æ·¡ç„¡å…‰"},
{ en: "violate", zh: "é•å"},
{ en: "application for permission", zh: "è¨±å¯ç”³è«‹"},
{ en: "crew", zh: "å…¨é«”äººå“¡"},
{ en: "access", zh: "ä½¿ç”¨æ¬Š"},
{ en: "addition", zh: "é™„åŠ "},
{ en: "in addition to", zh: "é™¤äº†â€¦é‚„æœ‰"},
{ en: "furthermore", zh: "å¦å¤–"},
{ en: "in furthermore", zh: "è€Œä¸”"},
{ en: "newspapers", zh: "å ±ç´™"},
{ en: "spell my name right", zh: "åå­—æ‹¼æ­£ç¢º"},
{ en: "quotation", zh: "å¼•è¿°"},
{ en: "widely", zh: "å»£æ³›"},
{ en: "cited", zh: "å¼•ç”¨"},
{ en: "journalism", zh: "æ–°èæ¥­"},
{ en: "as long as", zh: "åªè¦"},
{ en: "as pity as", zh: "èˆ‡â€¦ä¸€èˆ¬å¯æ†"},
{ en: "as soon as", zh: "ä¸€â€¦å°±â€¦"},
{ en: "as well as", zh: "ä¹Ÿ"},
{ en: "angry", zh: "ç”Ÿæ°£çš„"},
{ en: "laughed", zh: "ç¬‘äº†"},
{ en: "wrong", zh: "éŒ¯èª¤çš„"},
{ en: "corresponding", zh: "å›æ‡‰"},
{ en: "diagrams", zh: "åœ–è¡¨"},
{ en: "introductory", zh: "ä»‹ç´¹"},
{ en: "continuity", zh: "é€£çºŒæ€§"},
{ en: "sentence", zh: "å¥å­"},
{ en: "in addition", zh: "æ­¤å¤–"},
{ en: "in contrast", zh: "ç›¸ååœ°"},
{ en: "in general", zh: "ä¸€èˆ¬ä¾†èªª"},
{ en: "in spite", zh: "å„˜ç®¡"}

  ];        
</script>

<style>
  body {
    font-family: 'Arial', sans-serif;
    background-color: #f5f5f5;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }
  
  h1 {
    color: #333;
    margin-bottom: 30px;
  }
  
  .game-container {
    width: 90%;
    max-width: 800px;
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  .cards-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 3px;
    margin-bottom: 30px;
  }

  @media (max-width: 600px) {
    .cards-container {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  .card {
    background-color: #87000D;
    font-weight: bold;
    color: white;
    height: 100px;
    border-radius: 8px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 22px;
    cursor: pointer;
    text-align: center;
    padding: 10px;
    position: relative;
  }
  
  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
  }
  
  .card.flipped {
    background-color: #ff9a3c;
  }
  
  .result {
    margin-top: 20px;
    font-size: 18px;
    text-align: center;
    min-height: 50px;
  }
  
  .btn {
    background-color: #4CAF50;
    border: none;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 10px 2px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s;
  }
  
  .btn:hover {
    background-color: #45a049;
  }

  .range-btn {
    background-color:#FF5061;
    border: none;
    color: white;
    padding: 8px 15px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 14px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s;
  }

  .range-btn:hover {
    background-color: #5a6268;
  }

  .range-btn.active {
    background-color: #007bff;
  }
  
  .range-buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 20px;
    gap: 10px;
  }

  .range-buttons > * {
    width: calc(16.66% - 10px);
    min-width: 100px;
    box-sizing: border-box;
  }

  /* å–‡å­æŒ‰éˆ• */
  .speaker-btn {
    position: absolute;
    bottom: 5px;
    right: 5px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    width: 25px;
    height: 25px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.2s;
  }

  .speaker-btn:hover {
    background: rgba(255, 255, 255, 0.5);
    transform: scale(1.1);
  }

  /* éŸ³æ•ˆæ§åˆ¶æŒ‰éˆ• */
  .sound-control {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #333;
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  }
</style>
</head>
<body>
    <h1><a href="#" onclick="history.back()"><img src="home2.png"></a>å–®å­—è¤‡ç¿’å¡</h1>
    
    <div class="game-container">
        <div class="range-buttons" id="rangeButtons"></div>
        <div class="cards-container" id="cardsContainer"></div>
        <div class="result" id="result"></div>
        <button class="btn" id="newGameBtn">æ–°ä¸€è¼ªéŠæˆ²</button>
    </div>

    <!-- éŸ³æ•ˆæ§åˆ¶æŒ‰éˆ• -->
    <div class="sound-control" id="soundControl">ğŸ”Š</div>

    <!-- éŸ³æ•ˆ -->
    <audio id="flipSound" src="02.mp3"></audio>
    <audio id="correctSound" src="01.mp3"></audio>
    <audio id="newGameSound" src="03.mp3"></audio>

    <script>
      // èªéŸ³åˆæˆå‡½æ•¸
      function speakText(text) {
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = "en-US"; // å¯æ”¹æˆ "en-GB" è½è‹±å¼å£éŸ³
        speechSynthesis.speak(utterance);
      }

      let selectedWords = [];
      let cards = [];
      let flippedCard = null;
      let soundEnabled = true;
      let currentRange = null;
      
      const cardsContainer = document.getElementById('cardsContainer');
      const resultDiv = document.getElementById('result');
      const newGameBtn = document.getElementById('newGameBtn');
      const soundControl = document.getElementById('soundControl');
      const rangeButtons = document.getElementById('rangeButtons');
      const flipSound = document.getElementById('flipSound');
      const correctSound = document.getElementById('correctSound');
      const newGameSound = document.getElementById('newGameSound');
      
      // åˆå§‹åŒ–ç¯„åœé¸æ“‡æŒ‰éˆ•
      function initRangeButtons() {
        rangeButtons.innerHTML = '';
        
        // è¨ˆç®—éœ€è¦å¤šå°‘å€‹ç¯„åœæŒ‰éˆ•ï¼ˆæ¯10å€‹ä¸€çµ„ï¼‰
        const rangeCount = Math.ceil(wordPairs.length / 10);
        
        for (let i = 0; i < rangeCount; i++) {
          const start = i * 10 + 1;
          const end = Math.min((i + 1) * 10, wordPairs.length);
          
          const btn = document.createElement('button');
          btn.className = 'range-btn';
          btn.textContent = `${start}-${end}`;
          btn.dataset.start = i * 10;
          btn.dataset.end = end;
          
          btn.addEventListener('click', () => {
            // ç§»é™¤æ‰€æœ‰æŒ‰éˆ•çš„activeé¡
            document.querySelectorAll('.range-btn').forEach(b => {
              b.classList.remove('active');
            });
            // ç‚ºç•¶å‰æŒ‰éˆ•æ·»åŠ activeé¡
            btn.classList.add('active');
            
            // è¨­ç½®ç•¶å‰ç¯„åœ
            currentRange = {
              start: parseInt(btn.dataset.start),
              end: parseInt(btn.dataset.end)
            };
            
            // åˆå§‹åŒ–éŠæˆ²
            initGame();
          });
          
          rangeButtons.appendChild(btn);
        }
        
        // é»˜èªé¸æ“‡ç¬¬ä¸€å€‹ç¯„åœ
        if (rangeButtons.firstChild) {
          rangeButtons.firstChild.click();
        }
      }
      
      // åˆå§‹åŒ–éŠæˆ²
      function initGame() {
        // å¦‚æœæ²’æœ‰é¸æ“‡ç¯„åœï¼Œä½¿ç”¨å…¨éƒ¨å–®è©
        let wordsToUse = wordPairs;
        
        if (currentRange) {
          wordsToUse = wordPairs.slice(currentRange.start, currentRange.end);
        }
        
        // æ’­æ”¾æ–°éŠæˆ²éŸ³æ•ˆ
        if (soundEnabled) {
          newGameSound.currentTime = 0;
          newGameSound.play();
        }
        
        // æ¸…ç©ºå®¹å™¨
        cardsContainer.innerHTML = '';
        resultDiv.textContent = '';
        
        // éš¨æ©Ÿé¸æ“‡6å€‹å–®è©ï¼ˆå¦‚æœç¯„åœå…§æœ‰è¶³å¤ çš„å–®è©ï¼‰
        const numWordsToSelect = Math.min(8, wordsToUse.length);
        selectedWords = [...wordsToUse]
          .sort(() => 0.5 - Math.random())
          .slice(0, numWordsToSelect);
        
        // å‰µå»ºå¡ç‰‡
        cards = selectedWords.map(word => {
          const card = document.createElement('div');
          card.className = 'card';
          card.textContent = word.en;
          card.dataset.en = word.en;
          card.dataset.zh = word.zh;
          
          // æ·»åŠ å–‡å­æŒ‰éˆ•
          const speakerBtn = document.createElement('div');
          speakerBtn.className = 'speaker-btn';
          speakerBtn.innerHTML = 'ğŸ”Š';
          speakerBtn.addEventListener('click', (e) => {
            e.stopPropagation(); // é˜²æ­¢è§¸ç™¼å¡ç‰‡ç¿»è½‰
            speakText(word.en); // ä½¿ç”¨æ‚¨æä¾›çš„speakTextå‡½æ•¸
          });
          
          card.appendChild(speakerBtn);
          card.addEventListener('click', flipCard);
          
          cardsContainer.appendChild(card);
          return card;
        });
      }



// ç¿»è½‰å¡ç‰‡
function flipCard() {
    // å¦‚æœå·²ç¶“ç¿»è½‰æˆ–æ˜¯åŒä¸€å¼µå¡ç‰‡ï¼Œå‰‡ä¸åšä»»ä½•äº‹
    if (this === flippedCard || this.classList.contains('flipped')) {
        return;
    }
    
    // æ’­æ”¾ç¿»ç‰ŒéŸ³æ•ˆ
    if (soundEnabled) {
        flipSound.currentTime = 0;
        flipSound.play();
    }
    
    // ç¿»è½‰å¡ç‰‡
    this.classList.add('flipped');
    
    // ä¿å­˜åŸå§‹å…§å®¹ï¼ˆè‹±æ–‡å’Œå–‡å­æŒ‰éˆ•ï¼‰
    const originalContent = this.innerHTML;
    this.dataset.originalContent = originalContent;
    
    // è¨­ç½®ä¸­æ–‡å…§å®¹ï¼Œä½†ä¿ç•™å–‡å­æŒ‰éˆ•
    const speakerBtn = this.querySelector('.speaker-btn') ? this.querySelector('.speaker-btn').outerHTML : '';
    this.innerHTML = this.dataset.zh + speakerBtn;
    
    // é‡æ–°ç¶å®šå–‡å­æŒ‰éˆ•çš„äº‹ä»¶
    const newSpeakerBtn = this.querySelector('.speaker-btn');
    if (newSpeakerBtn) {
        newSpeakerBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            speakText(this.dataset.en);
        });
    }
    
    // é¡¯ç¤ºçµæœ
    resultDiv.textContent = `${this.dataset.en} çš„ä¸­æ–‡æ„æ€æ˜¯ ${this.dataset.zh}`;
    
    // æ’­æ”¾ç­”å°éŸ³æ•ˆ
    if (soundEnabled) {
        correctSound.currentTime = 0;
        correctSound.play();
    }
    
    // å¦‚æœä¹‹å‰æœ‰ç¿»è½‰çš„å¡ç‰‡ï¼Œç¿»å›å»
    if (flippedCard) {
        setTimeout(() => {
            flippedCard.classList.remove('flipped');
            flippedCard.innerHTML = flippedCard.dataset.originalContent;
            // é‡æ–°ç¶å®šå–‡å­æŒ‰éˆ•çš„äº‹ä»¶
            const originalSpeakerBtn = flippedCard.querySelector('.speaker-btn');
            if (originalSpeakerBtn) {
                originalSpeakerBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    speakText(flippedCard.dataset.en);
                });
            }
            flippedCard = null;
        }, 3000); // 3ç§’å¾Œç¿»å›
    }
    
    // ä¿å­˜ç•¶å‰ç¿»è½‰çš„å¡ç‰‡
    flippedCard = this;
    
    // 3ç§’å¾Œè‡ªå‹•ç¿»å›
    setTimeout(() => {
        if (this.classList.contains('flipped')) {
            this.classList.remove('flipped');
            this.innerHTML = this.dataset.originalContent;
            // é‡æ–°ç¶å®šå–‡å­æŒ‰éˆ•çš„äº‹ä»¶
            const originalSpeakerBtn = this.querySelector('.speaker-btn');
            if (originalSpeakerBtn) {
                originalSpeakerBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    speakText(this.dataset.en);
                });
            }
            if (flippedCard === this) {
                flippedCard = null;
            }
        }
    }, 3000);
}

      
      // æ–°éŠæˆ²æŒ‰éˆ•
      newGameBtn.addEventListener('click', initGame);
      
      // éŸ³æ•ˆæ§åˆ¶
      soundControl.addEventListener('click', () => {
        soundEnabled = !soundEnabled;
        soundControl.textContent = soundEnabled ? 'ğŸ”Š' : 'ğŸ”‡';
      });
      
      // åˆå§‹åŒ–ç¯„åœæŒ‰éˆ•å’ŒéŠæˆ²
      initRangeButtons();
    </script>
</body>
</html>